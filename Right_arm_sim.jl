using MeshCat
using GeometryTypes
using CoordinateTransformations
using StaticArrays


# create a  3d plane visualizer

#renders visualizer created
#render(vis)

ShoulderCoordinates = [
  [1.065704,1.674517,1.346246],
  [1.065726,1.6745,1.346262],
  [1.065782,1.6745,1.346241],
  [1.065721,1.674549,1.346211],
  [1.065734,1.674506,1.346218],
  [1.065734,1.674524,1.346244],
  [1.065795,1.674545,1.34623],
  [1.06575,1.67457,1.346224],
  [1.065731,1.674582,1.346231],
  [1.065742,1.674598,1.346253],
  [1.065778,1.674609,1.34629],
  [1.065741,1.674781,1.34641],
  [1.065798,1.674659,1.34629],
  [1.065813,1.674693,1.346291],
  [1.065848,1.674714,1.346337],
  [1.065796,1.674882,1.346455],
  [1.065855,1.674717,1.346263],
  [1.065855,1.674783,1.346307],
  [1.065916,1.674748,1.346332],
  [1.065895,1.674764,1.346331],
  [1.065893,1.674764,1.3463],
  [1.065914,1.674798,1.346444],
  [1.065951,1.674794,1.346536],
  [1.065977,1.674798,1.346692],
  [1.065971,1.674805,1.346772],
  [1.066007,1.674801,1.34688],
  [1.066024,1.674768,1.347059],
  [1.066035,1.674719,1.347265],
  [1.066184,1.674675,1.34773],
  [1.066153,1.67456,1.347912],
  [1.066105,1.67436,1.348125],
  [1.066077,1.674077,1.348394],
  [1.06618,1.673782,1.348719],
  [1.066151,1.67347,1.348948],
  [1.066194,1.673114,1.349243],
  [1.066217,1.672929,1.34978],
  [1.066188,1.672399,1.349683],
  [1.066148,1.671987,1.349649],
  [1.06612,1.671477,1.349626],
  [1.066115,1.670973,1.349614],
  [1.066136,1.670367,1.349419],
  [1.06612,1.669803,1.349288],
  [1.066209,1.66923,1.349105],
  [1.066206,1.668674,1.349076],
  [1.066248,1.667873,1.34905],
  [1.066355,1.667003,1.349001],
  [1.066605,1.666088,1.349083],
  [1.066454,1.66519,1.348971],
  [1.066817,1.664234,1.348891],
  [1.067043,1.662961,1.348868],
  [1.067094,1.66179,1.34898],
  [1.067339,1.660323,1.348858],
  [1.067576,1.659067,1.349114],
  [1.067711,1.657318,1.348991],
  [1.067713,1.655642,1.348916],
  [1.067579,1.653636,1.34865],
  [1.067452,1.651492,1.348352],
  [1.067259,1.648904,1.34804],
  [1.066952,1.646425,1.347709],
  [1.066868,1.643789,1.347584],
  [1.066511,1.640978,1.347283],
  [1.066308,1.637856,1.346717],
  [1.065679,1.634913,1.346605],
  [1.065198,1.631543,1.345607],
  [1.06479,1.628101,1.344955],
  [1.064244,1.624544,1.344184],
  [1.063344,1.620763,1.3434],
  [1.062459,1.617126,1.342691],
  [1.061368,1.613041,1.341436],
  [1.059848,1.608912,1.340259],
  [1.058293,1.604819,1.339028],
  [1.05666,1.600523,1.337817],
  [1.054714,1.596073,1.336475],
  [1.052518,1.591486,1.335052],
  [1.050353,1.586682,1.333791],
  [1.047941,1.581736,1.33272],
  [1.045483,1.57662,1.331393],
  [1.042922,1.571518,1.330188],
  [1.040291,1.566304,1.328844],
  [1.037644,1.5612,1.327273],
  [1.034982,1.555871,1.325493],
  [1.031825,1.550316,1.323369],
  [1.028881,1.545212,1.321237],
  [1.025693,1.539533,1.318817],
  [1.02248,1.533919,1.316163],
  [1.01911,1.527859,1.31334],
  [1.01577,1.52237,1.31043],
  [1.012557,1.516626,1.307468],
  [1.009239,1.511076,1.304417],
  [1.005785,1.505435,1.301064],
  [1.002555,1.499773,1.297706],
  [0.999437,1.493945,1.294184],
  [0.996539,1.488295,1.29058],
  [0.993555,1.482778,1.2867],
  [0.990813,1.477366,1.282704],
  [0.988303,1.472046,1.278634],
  [0.986005,1.46705,1.274667],
  [0.983719,1.462499,1.270868],
  [0.981748,1.457915,1.267103],
  [0.980005,1.4534,1.263479],
  [0.978515,1.448943,1.259966],
  [0.977084,1.444596,1.256456],
  [0.97584,1.440302,1.252949],
  [0.974698,1.435984,1.24952],
  [0.97369,1.431698,1.246006],
  [0.972874,1.427364,1.242442],
  [0.972094,1.422971,1.238755],
  [0.971447,1.418653,1.234853],
  [0.971028,1.414294,1.230636],
  [0.97052,1.41008,1.226656],
  [0.970091,1.40596,1.222582],
  [0.969654,1.402061,1.218338],
  [0.969322,1.398218,1.214078],
  [0.968927,1.394449,1.209726]
]

ElbowCoordinates = [
  [0.812342,1.643054,1.35036],
  [0.812445,1.643394,1.351178],
  [0.812435,1.643393,1.351148],
  [0.81245,1.643392,1.351129],
  [0.812351,1.643002,1.350281],
  [0.812424,1.643371,1.351117],
  [0.812436,1.643393,1.351072],
  [0.812437,1.643391,1.35107],
  [0.812425,1.643381,1.351075],
  [0.812458,1.643391,1.351113],
  [0.812402,1.642973,1.350374],
  [0.812392,1.642995,1.350368],
  [0.81238,1.642977,1.350373],
  [0.812457,1.643334,1.351251],
  [0.81241,1.642964,1.35053],
  [0.812421,1.642959,1.350582],
  [0.812457,1.642973,1.350625],
  [0.812448,1.642946,1.350633],
  [0.812463,1.642943,1.350679],
  [0.812481,1.642933,1.350709],
  [0.812501,1.642911,1.350752],
  [0.812575,1.643271,1.351576],
  [0.812594,1.643268,1.351645],
  [0.812595,1.643263,1.351673],
  [0.812548,1.643258,1.351653],
  [0.812551,1.643253,1.351663],
  [0.812513,1.643254,1.35163],
  [0.812477,1.643218,1.35162],
  [0.812399,1.643175,1.351621],
  [0.812296,1.643115,1.351557],
  [0.812184,1.643015,1.3515],
  [0.812024,1.642804,1.351426],
  [0.811844,1.642514,1.351323],
  [0.811621,1.642152,1.351094],
  [0.811437,1.641764,1.350848],
  [0.811177,1.641221,1.350396],
  [0.810977,1.640621,1.349963],
  [0.810889,1.639862,1.349148],
  [0.810298,1.639378,1.347636],
  [0.810071,1.638748,1.346483],
  [0.809906,1.637868,1.345069],
  [0.809505,1.637296,1.343464],
  [0.809326,1.636648,1.341042],
  [0.80907,1.63584,1.338558],
  [0.80879,1.63425,1.335673],
  [0.80853,1.632981,1.333002],
  [0.808614,1.631833,1.330952],
  [0.808584,1.63055,1.32855],
  [0.808463,1.628992,1.325505],
  [0.808415,1.627392,1.322363],
  [0.808301,1.62579,1.319052],
  [0.808384,1.623945,1.315553],
  [0.808689,1.621902,1.311952],
  [0.808804,1.619771,1.307892],
  [0.808771,1.61775,1.303202],
  [0.808783,1.615479,1.298469],
  [0.809069,1.613009,1.2938],
  [0.80944,1.610415,1.288855],
  [0.80975,1.607769,1.283588],
  [0.810068,1.605234,1.278097],
  [0.810541,1.602455,1.272535],
  [0.811052,1.599654,1.267021],
  [0.811637,1.596436,1.261293],
  [0.812222,1.593033,1.25538],
  [0.812872,1.589412,1.249414],
  [0.81299,1.585848,1.244386],
  [0.813707,1.581884,1.238192],
  [0.814157,1.577713,1.231605],
  [0.81479,1.573461,1.225052],
  [0.815341,1.569121,1.218511],
  [0.81592,1.564659,1.211969],
  [0.81639,1.560034,1.205215],
  [0.816627,1.55528,1.198187],
  [0.816934,1.550524,1.191383],
  [0.817244,1.545545,1.184303],
  [0.817496,1.540555,1.177085],
  [0.817988,1.535564,1.16992],
  [0.818688,1.530472,1.162643],
  [0.819186,1.525611,1.155196],
  [0.820008,1.52039,1.147449],
  [0.820816,1.515474,1.139853],
  [0.821546,1.510581,1.132145],
  [0.822568,1.505473,1.124223],
  [0.823652,1.500361,1.116151],
  [0.824757,1.495634,1.108309],
  [0.825821,1.490768,1.099969],
  [0.826896,1.486056,1.091892],
  [0.828085,1.481472,1.08391],
  [0.829538,1.476776,1.076122],
  [0.830694,1.47205,1.067929],
  [0.832204,1.467575,1.060241],
  [0.833453,1.463257,1.052334],
  [0.834966,1.458779,1.04462],
  [0.836493,1.454178,1.036948],
  [0.838263,1.449526,1.029359],
  [0.84026,1.444819,1.022009],
  [0.842027,1.440395,1.014762],
  [0.84413,1.435778,1.007868],
  [0.846444,1.431352,1.001312],
  [0.848981,1.42677,0.994836],
  [0.851518,1.422457,0.988896],
  [0.853866,1.418166,0.982938],
  [0.856436,1.413942,0.977336],
  [0.858975,1.409849,0.971939],
  [0.861545,1.405889,0.966691],
  [0.86414,1.401763,0.961436],
  [0.866708,1.397929,0.956476],
  [0.86877,1.394203,0.95121],
  [0.871072,1.390563,0.946245],
  [0.87328,1.38678,0.941216],
  [0.875223,1.383125,0.936211],
  [0.877008,1.379585,0.931237],
  [0.878882,1.375847,0.926214],
  [0.880775,1.37187,0.92118]
]

HandCoordinates = [
  [1.83189,1.545161,1.328026],
  [1.831914,1.544959,1.328065],
  [1.831872,1.544789,1.328132],
  [1.831854,1.544626,1.328182],
  [1.83179,1.544469,1.328194],
  [1.83179,1.544237,1.32825],
  [1.831739,1.544038,1.328432],
  [1.831721,1.543801,1.328557],
  [1.831729,1.543551,1.328693],
  [1.831622,1.54339,1.328786],
  [1.831634,1.54321,1.328907],
  [1.831678,1.542879,1.328995],
  [1.831563,1.542773,1.329124],
  [1.831511,1.542532,1.329226],
  [1.831499,1.542299,1.329245],
  [1.831472,1.541976,1.329351],
  [1.831435,1.541805,1.329403],
  [1.831437,1.541602,1.329394],
  [1.83146,1.541311,1.329222],
  [1.831454,1.541191,1.329317],
  [1.831459,1.540905,1.329212],
  [1.831484,1.540706,1.329078],
  [1.831475,1.540458,1.329019],
  [1.831476,1.540304,1.328853],
  [1.831489,1.53997,1.328725],
  [1.831491,1.539795,1.32843],
  [1.831592,1.539554,1.328104],
  [1.831577,1.539376,1.327675],
  [1.831621,1.539191,1.327176],
  [1.831618,1.538956,1.326609],
  [1.831733,1.538754,1.326],
  [1.831757,1.538591,1.325255],
  [1.831763,1.538483,1.324362],
  [1.831962,1.538175,1.32331],
  [1.832096,1.538001,1.32228],
  [1.832347,1.537648,1.320876],
  [1.832429,1.537602,1.320149],
  [1.832611,1.53723,1.318858],
  [1.832857,1.537037,1.317592],
  [1.833117,1.536605,1.316164],
  [1.833415,1.536166,1.314525],
  [1.83373,1.535488,1.312071],
  [1.834102,1.534611,1.309683],
  [1.834504,1.533682,1.306979],
  [1.834823,1.532408,1.30391],
  [1.835049,1.53107,1.300702],
  [1.835195,1.529431,1.297039],
  [1.835474,1.527345,1.293039],
  [1.835613,1.525145,1.288836],
  [1.835668,1.522824,1.284366],
  [1.835837,1.519895,1.279373],
  [1.835777,1.517217,1.273998],
  [1.835633,1.51417,1.268438],
  [1.835589,1.510923,1.262132],
  [1.835234,1.507725,1.255842],
  [1.834788,1.504257,1.248947],
  [1.834319,1.500375,1.24166],
  [1.833465,1.496411,1.233849],
  [1.832491,1.492093,1.225499],
  [1.831281,1.487513,1.216997],
  [1.829728,1.483077,1.207192],
  [1.828013,1.478091,1.198039],
  [1.82597,1.473271,1.187882],
  [1.823723,1.468267,1.177179],
  [1.820976,1.463594,1.166361],
  [1.817944,1.458685,1.155027],
  [1.814459,1.453714,1.143418],
  [1.810636,1.448679,1.131536],
  [1.806252,1.443649,1.119387],
  [1.801515,1.438553,1.107016],
  [1.796363,1.433472,1.094674],
  [1.790709,1.42838,1.081822],
  [1.784341,1.423335,1.068966],
  [1.777781,1.418357,1.056031],
  [1.770639,1.413158,1.043084],
  [1.762661,1.40826,1.030061],
  [1.754427,1.403077,1.017102],
  [1.745642,1.398002,1.00427],
  [1.736845,1.392782,0.991563],
  [1.727489,1.387846,0.978623],
  [1.717775,1.383205,0.965927],
  [1.707702,1.378756,0.953107],
  [1.697473,1.374312,0.940494],
  [1.686982,1.369886,0.92783],
  [1.676576,1.36558,0.916136],
  [1.665839,1.361115,0.90417],
  [1.655048,1.356875,0.892758],
  [1.644084,1.35273,0.881771],
  [1.633174,1.348576,0.870754],
  [1.622229,1.344567,0.860335],
  [1.611221,1.34072,0.850131],
  [1.600111,1.337135,0.840068],
  [1.589466,1.333309,0.830267],
  [1.578848,1.32972,0.820659],
  [1.568414,1.326061,0.811157],
  [1.558076,1.322438,0.801761],
  [1.547773,1.318916,0.792588],
  [1.537633,1.315501,0.783938],
  [1.527624,1.311795,0.775249],
  [1.517908,1.308167,0.7669],
  [1.508538,1.304741,0.759047],
  [1.499658,1.301027,0.751102],
  [1.490768,1.297759,0.743592],
  [1.482377,1.29423,0.736283],
  [1.474086,1.290816,0.728866],
  [1.466307,1.287549,0.722202],
  [1.458893,1.284111,0.715604],
  [1.452018,1.280582,0.709132],
  [1.445536,1.277329,0.703204],
  [1.439532,1.27396,0.697332],
  [1.4335,1.270644,0.691229],
  [1.428303,1.267456,0.685669],
  [1.423926,1.264028,0.680406],
  [1.419169,1.260886,0.674837]
]

vis = Visualizer()

open(vis)

setobject!(vis[:RightHand][:Shoulder], Sphere(Point(0.,0,0),.05))
setobject!(vis[:RightHand][:Elbow], Sphere(Point(0.,0,0),.05))
setobject!(vis[:RightHand][:Hand], Sphere(Point(0.,0,0),.05))
#open 3d plane on localhost in a browser window

anim = Animation()

atframe(anim, 0) do
    settransform!(vis[:RightHand][:Shoulder], Translation(ShoulderCoordinates[1]))
    settransform!(vis[:RightHand][:Elbow], Translation(ElbowCoordinates[1]))
    settransform!(vis[:RightHand][:Hand], Translation(HandCoordinates[1]))
end
atframe(anim, 80) do
    for i in length(HandCoordinates)
        settransform!(vis[:RightHand][:Elbow], Translation(ShoulderCoordinates[i]))
        settransform!(vis[:RightHand][:Elbow], Translation(ElbowCoordinates[i]))
        settransform!(vis[:RightHand][:Hand], Translation(HandCoordinates[i]))
    end
end
setanimation!(vis, anim)
